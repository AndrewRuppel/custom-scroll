/* jQuery Custom Scroll plugin v0.6.4 | (c) 2014 Mostovoy Andrey | https://github.com/standy/custom-scroll/blob/master/LICENSE */
!function(i){function t(t,s){function e(r){var e=o[r];t["scroll"+e.Dir](0);var a=s.prefix+"bar"+e.suffix,c=t.children("."+a);return c.length||(c=i(s.barHtml).addClass(a).appendTo(t)),c.on("mousedown touchstart",function(i){var t=u["scroll"+e.Dir](),o=i[e.clientAxis]||i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0][e.clientAxis],s=n(r).ratio;D.on("mousemove.custom-scroll touchmove.custom-scroll",function(i){i.stopPropagation(),i.preventDefault();var r=i[e.clientAxis]||i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0][e.clientAxis],n=r-o;u["scroll"+e.Dir](t+n/s)}),D.on("mouseup.custom-scroll touchend.custom-scroll",function(){D.off(".custom-scroll")})}),c}function n(i){var r=o[i],e=0|u.prop("scroll"+r.Dim),n=t["inner"+r.Dim](),a=u["inner"+r.Dim](),c=n-s["offset"+r.Dir]-s["offset"+r.Dir2];h["x"==i?"y":"x"]||(c-=s["track"+r.Dim]);var l=Math.max(c*n/e|0,s["barMin"+r.Dim]),d=(c-l)/(e-a);return{ratio:d,dim:n,scroll:c,total:e,bar:l}}function a(){f||(f=t.is(":visible"),t.scrollTop(0)),c("y"),c("x")}function c(i){var r=o[i],e=n(i);if(e.total){var a=u["scroll"+r.Dir]();if(m[i].scrollPos!==a||m[i].scroll!==e.scroll||m[i].total!==e.total){m[i]=e,m[i].scrollPos=a;var c=e.bar>=e.scroll;c!==h[i]&&(t.toggleClass(s.prefix+"hidden"+r.suffix,c),h[i]=c);var l=a*e.ratio;0>l&&(l=0),l>e.scroll-e.bar&&(l=e.scroll-e.bar),b[i][r.dim](e.bar).css(r.dir,s["offset"+r.Dir]+l)}}}function l(){b.x.remove(),b.y.remove(),t.removeClass(s.prefix+"container").removeData("custom-scroll").css({padding:"",maxHeight:""}),u.contents().appendTo(t),u.remove()}var d=t.data("custom-scroll");s=d?d.options:i.extend({},r,s);var f=t.is(":visible"),h={},m={x:{},y:{}};if(t.hasClass(s.prefix+"container")){var d=t.data("custom-scroll");if(d)return d.updateBar(),d}var u=t.children("."+s.prefix+"inner");u.length||(u=t.wrapInner('<div class="'+s.prefix+'inner"></div>').children()),t.addClass(s.prefix+"container");var p=i('<div class="'+s.prefix+'inner" />').width(100).height(100).appendTo("body").css({overflow:"scroll"})[0],g=p.offsetWidth-p.clientWidth,v=p.offsetHeight-p.clientHeight;p.parentElement.removeChild(p),u.css({paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight")});parseInt(t.css("paddingBottom"));u.css({marginRight:-g+"px",marginBottom:-v+"px",paddingBottom:v+"px"});var x=t.css("maxHeight");parseInt(x)&&(t.css("maxHeight","none"),u.css("maxHeight",x)),t.css({paddingLeft:0,paddingRight:0}).scrollTop(0);var D=i("body"),b={};b.y=e("y"),b.x=e("x"),u.on("scroll",a),a();var y={$container:t,$bar:b.y,$barX:b.x,$inner:u,destroy:l,updateBar:a,options:s};return t.data("custom-scroll",y),y}i.fn.customScroll=function(o){return this.length?"destroy"===o?(this.each(function(){var t=i(this).data("custom-scroll");t&&t.destroy()}),this):1===this.length?t(this,o):void this.each(function(){t(i(this),o)}):i.extend(r,o)};var r={prefix:"custom-scroll_",barMinHeight:10,barMinWidth:10,offsetTop:0,offsetBottom:0,offsetLeft:0,offsetRight:0,trackWidth:10,trackHeight:10,barHtml:"<div />"},o={x:{dim:"width",Dim:"Width",dir:"left",Dir:"Left",dir2:"right",Dir2:"Right",clientAxis:"clientX",suffix:"-x"},y:{dim:"height",Dim:"Height",dir:"top",Dir:"Top",dir2:"bottom",Dir2:"Bottom",clientAxis:"clientY",suffix:""}}}(jQuery);