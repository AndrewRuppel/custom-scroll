!function(t){function r(r,n){function i(){var t=0|u.prop("scrollHeight"),o=r.innerHeight(),i=Math.max(o*o/t|0,n.barMinHeight),e=(o-i)/(t-o);return{ratio:e,height:o,heightTotal:t,barHeight:i}}function e(){var t=i();l&&l.height===t.height&&l.heightTotal===t.heightTotal||(h.toggleClass(a("hidden"),t.barHeight>=t.height),l=t);var r=u.scrollTop(),o=r*t.ratio;0>o&&(o=0),o>t.height-t.barHeight&&(o=t.height-t.barHeight),h.height(t.barHeight).css("top",o)}function a(t){return n.prefix+"_"+t}n=t.extend({},o,n);var l;if(r.hasClass(a("container"))){var s=r.data("custom-scroll");return s.updateBar(),s}var c=null!=n.barHtml?n.barHtml:'<div class="'+a("bar")+" "+a("hidden")+'"></div>',h=t(c);r.addClass(a("container")).wrapInner('<div class="'+a("inner")+'"></div>').append(h);var u=r.children("."+a("inner")),g=t("body");h.on("mousedown",function(t){var r=u.scrollTop(),o=t.clientY,n=i().ratio;g.on("mousemove.custom-scroll",function(t){t.stopPropagation(),t.preventDefault();var i=t.clientY-o,e=r+i/n;u.scrollTop(e)}),g.on("mouseup.custom-scroll",function(){g.off("mousemove.custom-scroll"),g.off("mouseup.custom-scroll")})}),u.on("scroll",e),e();var d={$container:r,$bar:h,$inner:u,updateBar:e};return r.data("custom-scroll",d),d}t.fn.customScroll=function(o){return 1===this.length?r(this,o):void this.each(function(){r(t(this),o)})};var o={prefix:"custom-scroll",barMinHeight:10,barHtml:null}}(jQuery);