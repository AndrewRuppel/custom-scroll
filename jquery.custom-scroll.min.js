/* jQuery Custom Scroll plugin v0.5.2 | (c) 2014 Mostovoy Andrey | https://github.com/standys/custom-scroll/blob/master/LICENSE */
!function(t){function i(i,e){function n(r){var n=o[r];i["scroll"+n.Dir](0);var a=e.prefix+"bar"+n.suffix,c=i.children("."+a);return c.length||(c=t(e.barHtml).addClass(a).appendTo(i)),c.on("mousedown touchstart",function(t){t.stopPropagation(),t.preventDefault();var i=u["scroll"+n.Dir](),o=t[n.clientAxis]||t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0][n.clientAxis],e=s(r).ratio;v.on("mousemove.custom-scroll touchmove.custom-scroll",function(t){t.stopPropagation(),t.preventDefault();var r=t[n.clientAxis]||t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0][n.clientAxis],s=r-o;u["scroll"+n.Dir](i+s/e)}),v.on("mouseup.custom-scroll touchend.custom-scroll",function(){v.off(".custom-scroll")})}),c}function s(t){var r=o[t],n=0|u.prop("scroll"+r.Dim),s=i["inner"+r.Dim](),a=u["inner"+r.Dim](),c=s-e["offset"+r.Dir]-e["offset"+r.Dir2];d["x"==t?"y":"x"]||(c-=e["track"+r.Dim]);var l=Math.max(c*s/n|0,e["barMin"+r.Dim]),f=(c-l)/(n-a);return{ratio:f,dim:s,scroll:c,total:n,bar:l}}function a(){c("y"),c("x")}function c(t){var r=o[t],n=s(t),a=u["scroll"+r.Dir]();if(h[t].scrollPos!==a||h[t].scroll!==n.scroll||h[t].total!==n.total){h[t]=n,h[t].scrollPos=a;var c=n.bar>=n.scroll;c!==d[t]&&(i.toggleClass(e.prefix+"hidden"+r.suffix,c),d[t]=c);var l=a*n.ratio;0>l&&(l=0),l>n.scroll-n.bar&&(l=n.scroll-n.bar),g[t][r.dim](n.bar).css(r.dir,e["offset"+r.Dir]+l)}}function l(){g.x.remove(),g.y.remove(),i.removeClass(e.prefix+"container").removeData("custom-scroll"),u.contents().appendTo(i),u.remove()}var f=i.data("custom-scroll");e=f?f.options:t.extend({},r,e);var d={},h={x:{},y:{}};if(i.hasClass(e.prefix+"container")){var f=i.data("custom-scroll");if(f)return f.updateBar(),f}var u=i.children("."+e.prefix+"inner");u.length||(u=i.wrapInner('<div class="'+e.prefix+'inner"></div>').children()),i.removeClass(e.prefix+"container");var m=u[0].offsetWidth-u[0].clientWidth,p=u[0].offsetHeight-u[0].clientHeight;u.css({paddingLeft:i.css("paddingLeft"),paddingRight:i.css("paddingRight"),marginRight:-m+"px",paddingBottom:p+"px"}),i.addClass(e.prefix+"container");var v=t("body"),g={};g.y=n("y"),g.x=n("x"),u.on("scroll",a),a();var x={$container:i,$bar:g.y,$barX:g.x,$inner:u,destroy:l,updateBar:a,options:e};return i.data("custom-scroll",x),x}t.fn.customScroll=function(o){return this.length?"destroy"===o?(this.each(function(){var i=t(this).data("custom-scroll");i&&i.destroy()}),this):1===this.length?i(this,o):void this.each(function(){i(t(this),o)}):t.extend(r,o)};var r={prefix:"custom-scroll_",barMinHeight:10,barMinWidth:10,offsetTop:0,offsetBottom:0,offsetLeft:0,offsetRight:0,trackWidth:10,trackHeight:10,barHtml:"<div />"},o={x:{dim:"width",Dim:"Width",dir:"left",Dir:"Left",dir2:"right",Dir2:"Right",clientAxis:"clientX",suffix:"-x"},y:{dim:"height",Dim:"Height",dir:"top",Dir:"Top",dir2:"bottom",Dir2:"Bottom",clientAxis:"clientY",suffix:""}}}(jQuery);